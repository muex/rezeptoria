{# templates/form/tailwind_theme.html.twig #}

{% use 'form_div_layout.html.twig' %}

{%- block form_row -%}
    <div class="mb-5">
        {{- form_label(form) -}}
        {{- form_widget(form) -}}
        {{- form_errors(form) -}}
    </div>
{%- endblock form_row -%}

{%- block form_label -%}
    {%- set label_attr = label_attr|merge({class: (label_attr.class|default('') ~ ' block text-sm font-medium text-gray-700 mb-1')|trim}) -%}
    {{- parent() -}}
{%- endblock form_label -%}

{%- block form_widget_simple -%}
    {%- set widget_class = 'block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm px-3 py-2 border' -%}
    {%- set attr = attr|merge({class: (attr.class|default('') ~ ' ' ~ widget_class)|trim}) -%}
    {{- parent() -}}
{%- endblock form_widget_simple -%}

{%- block textarea_widget -%}
    {%- set widget_class = 'block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm px-3 py-2 border' -%}
    {%- set attr = attr|merge({class: (attr.class|default('') ~ ' ' ~ widget_class)|trim}) -%}
    {{- parent() -}}
{%- endblock textarea_widget -%}

{%- block choice_widget_expanded -%}
    <div class="mt-2 space-y-4">
        {% for child in form %}
            <div class="flex items-center">
                {{ form_widget(child) }}
                {{ form_label(child, null, {label_attr: {'class': 'ml-3 text-sm text-gray-700'}}) }}
            </div>
        {% endfor %}
    </div>
{%- endblock choice_widget_expanded -%}

{%- block checkbox_widget -%}
    {%- set widget_class = 'h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500' -%}
    {%- set attr = attr|merge({class: (attr.class|default('') ~ ' ' ~ widget_class)|trim}) -%}
    {{- parent() -}}
{%- endblock checkbox_widget -%}

{%- block form_errors -%}
    {% if errors|length > 0 %}
        <p class="mt-2 text-sm text-red-600">
            {% for error in errors %}
                {{ error.message }}
            {% endfor %}
        </p>
    {% endif %}
{%- endblock form_errors -%}

{%- block button_widget -%}
    {%- set attr = attr|merge({class: (attr.class|default('inline-flex justify-center rounded-md border border-transparent bg-indigo-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2') ~ ' ' ~ attr.class)|trim}) -%}
    <button type="{{ type|default('button') }}" {{ block('button_attributes') }}>
        {{- label|default(button_label) -}}
    </button>
{%- endblock button_widget -%}